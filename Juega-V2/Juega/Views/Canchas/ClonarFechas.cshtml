@{
    ViewBag.Title = "Horarios";
}


<link href="~/Scripts/datetime/css/bootstrap-datepicker.min.css" rel="stylesheet" />
<link href="~/Scripts/datetime/css/bootstrap-datepicker.standalone.min.css" rel="stylesheet" />
<link href="~/Scripts/datetime/css/bootstrap-datepicker3.min.css" rel="stylesheet" />
<link href="~/Scripts/datetime/css/bootstrap-datepicker3.standalone.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-2.1.3.min.js"></script>
<script src="~/Scripts/datetime/js/bootstrap-datepicker.min.js"></script>
<script src="~/Scripts/moment.js"></script>
<script src="~/Vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
<link href="~/Vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />


<script src="~/app/controller/HorarioCtrl.js"></script>

<h3>
    @ViewBag.NombreCancha
    <small>Clonar horarios de una fecha</small>
</h3>



<div class="container" ng-app="appHorario" ng-controller="HorarioCtrl" data-ng-init="EstablecerId('@ViewBag.IdCancha')">



    <div ng-if="MostrarError=='S'">
        <br />
        <br />
        <div class="alert alert-danger" role="alert">
            {{Mensaje}}
        </div>
    </div>


    <div ng-if="MostrarAlerta=='S'">
        <br />
        <br />
        <div class="alert alert-warning" role="alert">
            {{Mensaje}}
        </div>

    </div>


    <div ng-if="MostrarInfo=='S'">
        <br />
        <br />
        <div class="alert alert-green" role="alert">
            {{Mensaje}}
        </div>
    </div>



    <row class="tabbable">

        <div class="row-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">Clonar el horario del dia</div>
                <div class="panel-body">

                    <div ng-if="MostrarMsjValidarClonar=='S'">
                        <div class="alert alert-warning" role="alert">
                            {{Mensaje}}
                        </div>
                    </div>

                    <div class="row-sm-4">
                        <div class="input-group date" id="FechaClonar">
                            <input type="text" id="t1" class="form-control" />
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                        <button type="button" ng-click="MostrarHorarios()" class="btn btn-info">Consultar Horario</button>
                    </div>

                    <div class="panel panel-default">
                        <br />
                        <p> Horario de la fecha <small>{{Cancha.FechaClonar}} </small></p>
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Desde</th>
                                    <th>Hasta</th>
                                    <th>Precio</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in HorarioXDia.ListaHoras">
                                    <td> {{item.HoraDesde}} </td>
                                    <td> {{item.HoraHasta}} </td>
                                    <td> {{item.Precio}} </td>
                                    <td> {{item.Estado}} </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


        <div class="row-lg-6">

            <div class="panel panel-default">
                <div class="panel-heading">Clonar para los dias del rango</div>
                <div class="panel-body">

                    <div ng-if="MostrarMsjValidarClonarRango=='S'">
                        <div class="alert alert-warning" role="alert">
                            {{Mensaje}}
                        </div>
                    </div>

                    <div class="row-sm-4">
                        <div class="input-daterange input-group" id="datepicker">
                            <input type="text" id="tr1" class="input-sm form-control" name="start" ng-model="FechaAplicarDesde" />
                            <span class="input-group-addon">Hasta</span>
                            <input type="text" id="tr2" class="input-sm form-control" name="end" ng-model="FechaAplicarHasta" />
                        </div>


                        <button type="button" ng-click="ClonarHorario(false)" class="btn btn-info">Clonar</button>


                        <div ng-if="MostrarConfirmacionClonar=='S'">
                            <div class="alert alert-warning" role="alert">
                                <h4>Alerta</h4>
                                <p>
                                    Desea crear el horario para el rango seleccionado?
                                    <br />
                                    <button type="button" ng-click="ClonarHorario(true)" class="btn btn-info">Confirmar</button>
                                    <button type="button" ng-click="CancelarClonado()" class="btn btn-default" data-dismiss="alert">Cancelar</button>
                                </p>
                            </div>
                        </div>

                    </div>


                </div>
            </div>
        </div>



    </row>


</div>


@*@section BodyArea
        {

        <div id="ConfirmarClonar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" class="modal hide fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" data-dismiss="modal" aria-label="Close" class="close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 id="myModalLabel" class="modal-title">Clonar Horario</h4>
                    </div>
                    <div class="modal-body">Desea clonar los horarios para el rango de fecha  seleccionado?</div>
                    <div class="modal-footer">
                        <button type="button" data-dismiss="modal" class="btn btn-default">Cancelar</button>
                        <button type="button" ng-click="ClonarFechas()" class="btn btn-purple">Clonar</button>
                    </div>
                </div>
            </div>
        </div>
    }*@


<script type="text/javascript">



    $('#datepicker').datepicker({
        weekStart: 1,
        todayBtn: true,
        clearBtn: true,
        language: "es",
        todayHighlight: true,
        toggleActive: true
    });


    $('#FechaClonar').datepicker({
        weekStart: 1,
        todayBtn: true,
        clearBtn: true,
        language: "es",
        todayHighlight: true,
        toggleActive: true,
    });

    $('#FechaClonar').change(function () {

    });

    $('#HoraDesde').datetimepicker({
        format: 'LT'
    });

    $('#HoraHasta').datetimepicker({
        format: 'LT'
    });


</script>
